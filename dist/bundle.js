(()=>{"use strict";function e(e){const t=e.split("/");return`${t[2]}-${t[1]}-${t[0]}`}function t(){document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".data-brasil").forEach((function(e){e.addEventListener("input",(function(e){var t=e.target.value;(t=t.replace(/\D/g,"")).length>2&&(t=t.substring(0,2)+"/"+t.substring(2)),t.length>5&&(t=t.substring(0,5)+"/"+t.substring(5)),e.target.value=t}))}))}))}function n(){const e=e=>document.getElementById(e).value||"",t=e("numero-registro"),n=e("data-emissao"),a=e("nome-registrado"),i=e("sexo"),o=e("data-nascimento"),d=e("hora-nascimento"),l=e("local-nascimento"),s=e("cidade-estado-nascimento"),r=e("nome-pai"),u=e("nome-mae"),m=e("avos-paternos"),c=e("avos-maternos"),E=e("gemeos"),g=e("nome-registro-gemeos"),I=e("data-registro"),v=e("observacoes"),T=e("notas-registro"),b=e("tipo-documento"),y=e("numero"),A=e("matricula"),B=e("cidade-estado-registro"),p=e=>e?function(e){const t=e.split("/");return`${t[2]}-${t[1]}-${t[0]}`}(e):"";document.getElementById("registration-number").value=t,document.getElementById("issuance-date").value=p(n),document.getElementById("name").value=a,document.getElementById("gender").value=i.toUpperCase(),document.getElementById("date-time-birth").value=p(o)+(d?"T"+d:""),document.getElementById("place-birth-city-state").value=l+(s?", "+s:""),document.getElementById("father").value=r,document.getElementById("mother").value=u,document.getElementById("paternal-grandparents").value=m,document.getElementById("maternal-grandparents").value=c,document.getElementById("twins").value="Sim"===E?"Yes":"No",document.getElementById("name-registration-twins").value=g,document.getElementById("date-registration").value=p(I),document.getElementById("observations").value=v,document.getElementById("registration-notes").value=T,document.getElementById("document-type").value=b,document.getElementById("document-number").value=y,document.getElementById("registration").value=A,document.getElementById("city-state-registration").value=B}async function a(){let e=[],t=[];[{id:"registration-number",label:"REGISTRATION NUMBER OF ALIVE BIRTH"},{id:"issuance-date",label:"ISSUANCE DATE"},{id:"name",label:"NAME"},{id:"gender",label:"GENDER"},{id:"date-time-birth",label:"DATE AND TIME OF BIRTH"},{id:"place-birth-city-state",label:"PLACE OF BIRTH, CITY AND STATE"},{id:"father",label:"FATHER"},{id:"mother",label:"MOTHER"},{id:"paternal-grandparents",label:"PATERNAL GRANDPARENTS"},{id:"maternal-grandparents",label:"MATERNAL GRANDPARENTS"},{id:"twins",label:"TWINS"},{id:"name-registration-twins",label:"NAME AND REGISTRATION OF TWINS"},{id:"date-registration",label:"DATE OF REGISTRATION"},{id:"registration-notes",label:"REGISTRATION NOTES"},{id:"document-type",label:"DOCUMENT TYPE"},{id:"number",label:"DOCUMENT NUMBER"},{id:"registration",label:"REGISTRATION"},{id:"city-state-registration",label:"CITY AND STATE OF REGISTRATION"},{id:"observations",label:"OBSERVATIONS"},{id:"social-security-card",label:"SOCIAL SECURITY CARD"},{id:"notes-amendments",label:"NOTES AMENDMENTS TO ADD"},{id:"city-state-birth",label:"CITY AND STATE OF BIRTH"}].forEach((({id:n,label:a})=>{const i=document.getElementById(n);if(i){let t=i.value.trim()||"empty";e.push(`${a}: ${t}`)}else t.push(a)}));const n=e.join("\n");try{const e=await window.showSaveFilePicker({suggestedName:"input.txt",types:[{description:"Text Files",accept:{"text/plain":[".txt"]}}]}),t=await e.createWritable();await t.write(n),await t.close(),alert("Dados salvos com sucesso!")}catch(e){console.error("Erro ao salvar o arquivo:",e)}t.length>0&&alert("Campos não encontrados: "+t.join(", "))}document.addEventListener("DOMContentLoaded",(function(){console.log("Aplicação inicializada"),document.querySelectorAll(".data-brasil").forEach((e=>{e.addEventListener("input",t)})),document.getElementById("nome-registrado").addEventListener("input",(function(){var e;(e=this).value=e.value.toUpperCase().replace(/[^a-zA-Z\s]/g,"")})),document.getElementById("sexo").addEventListener("input",(function(){this.value=this.value.toUpperCase()})),document.getElementById("data-emissao").addEventListener("blur",(function(){e(this)})),document.getElementById("data-nascimento").addEventListener("blur",(function(){e(this)})),document.getElementById("gemeos").addEventListener("change",(function(){var e;e=document.getElementById("nome-registro-gemeos"),"Sim"===this.value?e.disabled=!1:(e.disabled=!0,e.value="")})),document.getElementById("fillButton").addEventListener("click",n),document.getElementById("saveButton").addEventListener("click",a)}))})();