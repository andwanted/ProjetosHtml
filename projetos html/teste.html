<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Tradução de Formulários</title>
    <style>
        .container {
            display: flex;
            justify-content: space-between;
            width: 100%;
        }
        .container table {
            border-collapse: collapse;
            width: 50%;
            margin-right: 20px;
        }
        .container th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }
        .container button {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <table id="brazilTable">
            <tr>
                <th>Campo</th>
                <th>Valor</th>
            </tr>
            <!-- Campos Brasileiros serão inseridos aqui dinamicamente -->
        </table>
        
        <table id="americanTable">
            <tr>
                <th>Campo</th>
                <th>Valor</th>
            </tr>
            <!-- Campos Americanos serão inseridos aqui dinamicamente -->
        </table>
    </div>
    <button onclick="transferirDados()">Enviar</button>
    <button onclick="limparDados()">Apagar</button>

    <script>
        const fieldsBrazilian = [
            "Número do Registro", "Data de Emissão", "Nome do Registrado", "Sexo", "Data de Nascimento",
            "Hora de Nascimento", "Local de Nascimento", "Nome do Pai", "Nacionalidade do Pai",
            "Idade do Pai na Data do Nascimento", "Profissão do Pai", "Nome da Mãe",
            "Nacionalidade da Mãe", "Idade da Mãe na Data do Nascimento", "Profissão da Mãe",
            "Avós Paternos", "Avós Maternos", "Testemunhas", "Observações", "Matrícula"
        ];

        const fieldsAmerican = [
            "REGISTRATION NUMBER OF ALIVE BIRTH", "ISSUANCE DATE", "NAME", "GENDER", "DATE AND TIME OF BIRTH",
            "PLACE OF BIRTH, CITY AND STATE", "FATHER", "MOTHER", "PATERNAL GRANDPARENTS", "MATERNAL GRANDPARENTS",
            "TWINS", "NAME AND REGISTRATION OF TWINS", "DATE OF REGISTRATION", "NOTES AMENDMENTS TO ADD", 
            "REGISTRATION NOTES", "DOCUMENT TYPE", "NUMBER", "SOCIAL SECURITY CARD", "REGISTRATION",
            "CITY AND STATE OF BIRTH", "CITY AND STATE OF REGISTRATION"
        ];

        // Mapeamento dos campos correspondentes
        const fieldMapping = {
            "Número do Registro": "REGISTRATION NUMBER OF ALIVE BIRTH",
            "Data de Emissão": "ISSUANCE DATE",
            "Nome do Registrado": "NAME",
            "Sexo": "GENDER",
            "Data de Nascimento": "DATE AND TIME OF BIRTH",
            "Local de Nascimento": "PLACE OF BIRTH, CITY AND STATE",
            "Nome do Pai": "FATHER",
            "Nome da Mãe": "MOTHER",
            "Avós Paternos": "PATERNAL GRANDPARENTS",
            "Avós Maternos": "MATERNAL GRANDPARENTS",
            "Observações": "NOTES AMENDMENTS TO ADD",
            "Matrícula": "REGISTRATION"
        };

        function populateTable(tableId, fields, isInput) {
            const table = document.getElementById(tableId);
            fields.forEach(field => {
                const row = document.createElement('tr');
                const th = document.createElement('th');
                th.textContent = field;
                row.appendChild(th);

                const td = document.createElement('td');
                if (isInput) {
                    const input = document.createElement('input');
                    input.id = `br_${field}`;
                    input.setAttribute('oninput', `validateInput(this, '${field}')`);
                    td.appendChild(input);
                } else {
                    td.id = `us_${fieldMapping[field] || field}`;
                }
                row.appendChild(td);
                table.appendChild(row);
            });
        }

        function transferirDados() {
            Object.keys(fieldMapping).forEach(brField => {
                const brInput = document.getElementById(`br_${brField}`);
                const usTd = document.getElementById(`us_${fieldMapping[brField]}`);
                if (brInput && usTd) {
                    let maskedValue = applyMask(brInput.value, brField);
                    usTd.textContent = maskedValue;
                }
            });
        }

        function limparDados() {
            document.querySelectorAll('input').forEach(input => input.value = '');
            document.querySelectorAll('td[id^="us_"]').forEach(td => td.textContent = '');
        }

        function validateInput(input, field) {
            let value = input.value;
            if (field.includes("Data")) {
                input.value = value.replace(/[^0-9/]/g, '').replace(/(\d{2})(\d{2})(\d{4})/, '$1/$2/$3');
            } else if (field === "Número do Registro" || field === "Matrícula") {
                input.value = value.replace(/[^0-9]/g, '');
            } else if (field === "Nome do Registrado" || field === "Nome do Pai" || field === "Nome da Mãe") {
                input.value = value.replace(/[^a-zA-Z\s]/g, '').replace(/\b\w/g, l => l.toUpperCase());
            }
        }

        function applyMask(value, field) {
            if (field.includes("Data")) {
                return value.replace(/(\d{2})\/(\d{2})\/(\d{4})/, '$3-$1-$2'); // Converte de dd/mm/yyyy para yyyy-mm-dd
            } else if (field === "Número do Registro" || field === "Matrícula") {
                return value;
            } else {
                return value.toUpperCase(); // Maiúsculas para outros campos de texto
            }
        }

        populateTable('brazilTable', fieldsBrazilian, true);
        populateTable('americanTable', fieldsAmerican, false);
    </script>
</body>
</html>
