<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário de Registro</title>

<link rel="stylesheet" type="text/css" href="css/style.css">

</head>

<body>
    
    <div class="container-entrada" id="exportContent">
               
        <!--Tabela brasileira -->
        
    <table class="tabela-brasileira">
        <!-- Campos de texto, números e datas com validações específicas -->
        <tr>
            <td>
                <label for="nome-registrado">Nome do Registrado</label>
                <input type="text" id="nome-registrado" oninput="this.value = this.value.toUpperCase().replace(/[^a-zA-Z\s]/g, '')" placeholder="Apenas letras">
            </td>
            <td>
                <label for="cartao-seguranca-social">Cartão de Segurança Social</label>
                <input type="text" id="cartao-seguranca-social" pattern="\d{3}\.\d{3}\.\d{3}-\d{2}" placeholder="000.000.000-00">
            </td>
       </tr>
       <tr>     
            <td>
                <label for="numero-registro">Número do Registro</label>
                <input type="text" id="numero-registro" pattern="\d*" placeholder="Apenas números">
            </td>

            <td>
                <label for="matricula">Matrícula</label>
                <input type="text" id="matricula" pattern="\d*" placeholder="Apenas números">
            </td>
           

        </tr>
        <tr>
            <td>
                <label for="data-nascimento">Data de Nascimento</label>
                <input type="text" id="data-nascimento" class="data-brasil" onblur="formatDate(this);" placeholder="dd/MM/aaaa">
            </td>

            <td>
                <label for="hora-nascimento">Hora de Nascimento</label>
                <input type="time" id="hora-nascimento">
            </td>
        </tr>
        <tr>
            <td>
                <label for="cidade-estado-nascimento">Cidade e Estado de Nascimento</label>
                <input type="text" id="cidade-estado-nascimento" placeholder="Cidade e Estado de Nascimento">
            </td>
            
            <td>
                <label for="cidade-estado-registro">Cidade e Estado do Registro</label>
                <input type="text" id="cidade-estado-registro" placeholder="Cidade e Estado do Registro">
            </td>
        </tr>
        <tr>
            <td>
                <label for="local-nascimento">Local de Nascimento</label>
                <input type="text" id="local-nascimento" placeholder="Local do nascimento ex: Hospital Sapopemba">
            </td>

            <td>
                <label for="sexo">Sexo</label>
                <input type="text" id="sexo" maxlength="1" pattern="[MF]" placeholder="M ou F">
            </td>
        </tr>
        <tr>
            <td>
                <label for="tipo-documento">Tipo de Documento</label>
                <input type="text" id="tipo-documento" placeholder="Ex: RG, CPF">
            </td>
            <td>
                <label for="numero">Número do Documento</label>
                <input type="text" id="numero" pattern="\d*" placeholder="Número do Documento">
            </td>
           
        </tr>
        <tr>
            <td>
                <label for="data-emissao">Data de Emissão</label>
                <input type="text" id="data-emissao" class="data-brasil" onblur="formatDate(this);" placeholder="dd/MM/aaaa">
            </td>

        </tr>
       
        <tr>
            <td>
                <label for="nome-pai">Nome do Pai</label>
                <input type="text" id="nome-pai" placeholder="Nome do pai">
            </td>
            <td>
                <label for="nacionalidade-pai">Nacionalidade do Pai</label>
                <select id="nacionalidade-pai">
                    <!-- Opções preenchidas dinamicamente ou manualmente aqui -->
                    <option value="Brasileiro" selected>Brasileiro</option>
                    <option value="Outra">Outra</option>
                </select>
            </td>
        </tr>
        <!-- Adicionar restante dos campos com regras aplicadas -->

        <tr>
            <td>
                <label for="idade-pai">Idade do Pai na Data do Nascimento</label>
                <input type="number" id="idade-pai" min="10" max="100" placeholder="10 a 100 anos">
            </td>
            <td>
                <label for="profissao-pai">Profissão do Pai</label>
                <input type="text" id="profissao-pai" placeholder="Profissão do pai">
            </td>
        </tr>
        <tr>
            <td>
                <label for="nome-mae">Nome da Mãe</label>
                <input type="text" id="nome-mae" placeholder="Nome da mãe">
            </td>
            <td>
                <label for="nacionalidade-mae">Nacionalidade da Mãe</label>
                <select id="nacionalidade-mae">
                    <option value="Brasileiro" selected>Brasileira</option>
                    <option value="Outra">Outra</option>
                </select>
            </td>
        </tr>
        <tr>
            <td>
                <label for="idade-mae">Idade da Mãe na Data do Nascimento</label>
                <input type="number" id="idade-mae" min="10" max="100" placeholder="10 a 100 anos">
            </td>
            <td>
                <label for="profissao-mae">Profissão da Mãe</label>
                <input type="text" id="profissao-mae" placeholder="Profissão da mãe">
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <label for="avos-paternos">Avós Paternos</label>
                <input type="text" id="avos-paternos" placeholder="Avós Paternos">
            </td>
           
        </tr>
        <tr>
            <td colspan="2">
                <label for="avos-maternos">Avós Maternos</label>
                <input type="text" id="avos-maternos" placeholder="Avós Maternos">
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <label for="testemunhas">Testemunhas</label>
                <input type="text" id="testemunhas" placeholder="Testemunhas">
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <label for="observacoes">Observações</label>
                <textarea id="observacoes" rows="4"></textarea>
            </td>
        </tr>
        <tr>
           
            <td>
                <label for="gemeos">Gêmeos</label>
                <select id="gemeos" onchange="handleTwins(this);">
                    <option value="Não">Não</option>
                    <option value="Sim">Sim</option>
                </select>
            </td>
            <td>
                <label for="nome-registro-gemeos">Nome e Registro dos Gêmeos</label>
                <input type="text" id="nome-registro-gemeos" disabled>
            </td>

        </tr>
        <tr>
            <td>
                <label for="data-registro">Data de Registro</label>
                <input type="date" id="data-registro" class="data-brasil">
            </td>
        </tr>
        <tr>
            <td>
                <label for="notas-alteracoes">Notas alterações a adicionar</label>
                <textarea id="notas-alteracoes" rows="2" placeholder="Notas alterações a adicionar"></textarea >
            </td>
            <td>
                <label for="notas-registro">Notas do Registro</label>
                <textarea id="notas-registro" rows="2" placeholder="Notas do Registro"></textarea >
            </td>
           
        </tr>
        
    
    </table>     

        <button id="btnTransferir" onclick="transferAndTransformData()">Preencher</button>
    
        <!--Tabela americana -->

        <table class="tabela-american">
            <tr>
                <td>
                    <label for="name">Name</label>
                    <input type="text" id="name" placeholder="Full name">
                </td>
                <td>
                    <label for="social-security-card">Social Security Card</label>
                    <input type="text" id="social-security-card" >
                </td>
            </tr>
            <tr>
                <td>
                    <label for="registration">Registration</label>
                    <input type="text" id="registration" placeholder="Registration info">
                </td>  
                <td colspan="2">
                    <label for="date-time-birth">Date and Time of Birth</label>
                    <input type="datetime-local" id="date-time-birth" >
                </td>
                
            </tr>
            <tr>
                <td>
                    <label for="city-state-birth">City and State of Birth</label>
                    <input type="text" id="city-state-birth" placeholder="City, State">
                </td>
                <td>
                    <label for="city-state-registration">City and State of Registration</label>
                    <input type="text" id="city-state-registration" placeholder="City, State">
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <label for="place-birth-city-state">Place of Birth, City and State</label>
                    <input type="text" id="place-birth-city-state" placeholder="City, State">
                </td>
            </tr>
            <tr>
                <td>
                    <label for="gender">Gender</label>
                    <input type="text" id="gender" placeholder="Gender">
                </td>
            </tr>
            <tr>
                <td>
                    <label for="father">Father</label>
                    <input type="text" id="father" placeholder="Father's name">
                </td>
                <td>
                    <label for="mother">Mother</label>
                    <input type="text" id="mother" placeholder="Mother's name">
                </td>
            </tr>
            <tr>
                <td>
                    <label for="paternal-grandparents">Paternal Grandparents</label>
                    <input type="text" id="paternal-grandparents" placeholder="Grandparents' names">
                </td>
                <td>
                    <label for="maternal-grandparents">Maternal Grandparents</label>
                    <input type="text" id="maternal-grandparents" placeholder="Grandparents' names">
                </td>
            </tr>
            <tr>
                <td>
                    <label for="twins">Twins</label>
                    <input type="text" id="twins" placeholder="Yes/No">
                </td>
                <td>
                    <label for="name-registration-twins">Name and Registration of Twins</label>
                    <input type="text" id="name-registration-twins" placeholder="Details if twins">
                </td>
            </tr>
            <tr>
                <td>
                    <label for="date-registration">Date of Registration</label>
                    <input type="date" id="date-registration" placeholder="Date of Registration">
                </td>
                <td>
                    <label for="notes-amendments">Notes Amendments to Add</label>
                    <textarea id="notes-amendments" rows="2" placeholder="Notes Amendments to Add"></textarea>
                </td>
            </tr>
            <tr>
                <td>
                    <label for="issuance-date">Issuance Date</label>
                    <input type="date" id="issuance-date" placeholder="Issuance Date<">
                </td>
            </tr>        

            <tr>
                <td colspan="2">
                    <label for="registration-notes">Registration Notes</label>
                    <textarea id="registration-notes" rows="2" placeholder="Registration Notes"></textarea>
                </td>
            </tr>
            <tr>
                <td>
                    <label for="document-type">Document Type</label>
                    <input type="text" id="document-type" placeholder="Type of document">
                </td>
                <td>
                    <label for="document-number">Document Number</label>
                    <input type="text" id="number" placeholder="Document number">
                </td>
            </tr>
            <tr>

                <td>
                    <label for="registration-number-of-alive-birth">Registration Number of Alive Birth</label>
                    <input type="text" id="registration-number" placeholder="Enter registration number">
                </td>
 
            </tr>

            <tr>
                <td colspan="2">
                    <label for="observations">Observations</label>
                    <textarea id="observations" rows="2" placeholder="Observations"></textarea>
                </td>
            </tr>
        </table>    

        <button type="button" id="saveButton" onclick="salvarDados()">Exportar</button>
    
    </div>

    <div>
        <input type="file" id="docxInput" accept=".docx" />
        <textarea id="dataInput" placeholder="Enter data here in key: value format"></textarea>
        <button id="generateDocx">Generate DOCX</button>
    </div>

   
    <script src="../dist/main.7ea7d920865a360b37c1.js"></script>

    


    <script type="module" src="js/index.js"></script>


     <!-- Scripts no final do body para garantir que o DOM esteja carregado -->
     <script src="./js/dataFormatting.js"></script>
     <script src="./js/inputFormatting.js"></script>
     <script src="./js/twinsHandling.js"></script>
     <script src="./js/transferAndTransformData.js"></script>
     <script src="./js/dataSaving.js"></script>
     <script src="./js/buttonControl.js"></script>
     <script src="./js/dateTransformations.js"></script>
     <script src="./js/eventManagement.js"></script>
     <script src="./js/dateTransformations.js"></script>
     <script src="./app/docxHandler.js"></script>
     <script src="./js/index.js"></script> <!-- Seu script principal que usa os módulos acima -->
 
 
    <script>
        document.addEventListener('DOMContentLoaded', function() {

                function transferAndTransformData() {
                // Captura dos dados da tabela brasileira
                const numeroRegistro = document.getElementById('numero-registro').value;
                const dataEmissao = document.getElementById('data-emissao').value;
                const nomeRegistrado = document.getElementById('nome-registrado').value;
                const sexo = document.getElementById('sexo').value;
                const dataNascimento = document.getElementById('data-nascimento').value;
                const horaNascimento = document.getElementById('hora-nascimento').value;
                const localNascimento = document.getElementById('local-nascimento').value;
                const cidadeEstadoNascimento = document.getElementById('cidade-estado-nascimento').value;
                const nomePai = document.getElementById('nome-pai').value;
                const nomeMae = document.getElementById('nome-mae').value;
                const avosPaternos = document.getElementById('avos-paternos').value;
                const avosMaternos = document.getElementById('avos-maternos').value;
                const gemeos = document.getElementById('gemeos').value;
                const nomeRegistroGemeos = document.getElementById('nome-registro-gemeos').value;
                const dataRegistro = document.getElementById('data-registro').value;
                const observacoes = document.getElementById('observacoes').value;
                const notasRegistro = document.getElementById('notas-registro').value;
                const tipoDocumento = document.getElementById('tipo-documento').value;
                const numero = document.getElementById('numero').value;
                const matricula = document.getElementById('matricula').value;
                const cidadeEstadoRegistro = document.getElementById('cidade-estado-registro').value;

                // Preenchimento dos dados na tabela americana
                document.getElementById('registration-number').value = numeroRegistro;
                document.getElementById('issuance-date').value = formatDateBRtoUS(dataEmissao);
                document.getElementById('name').value = nomeRegistrado;
                document.getElementById('gender').value = sexo;
                document.getElementById('date-time-birth').value = formatDateBRtoUS(dataNascimento) + 'T' + horaNascimento;
                document.getElementById('place-birth-city-state').value = localNascimento + ', ' + cidadeEstadoNascimento;
                document.getElementById('father').value = nomePai;
                document.getElementById('mother').value = nomeMae;
                document.getElementById('paternal-grandparents').value = avosPaternos;
                document.getElementById('maternal-grandparents').value = avosMaternos;
                document.getElementById('twins').value = gemeos === "Sim" ? "Yes" : "No";
                document.getElementById('name-registration-twins').value = nomeRegistroGemeos;
                document.getElementById('date-registration').value = formatDateBRtoUS(dataRegistro);
                document.getElementById('observations').value = observacoes;
                document.getElementById('registration-notes').value = notasRegistro;
                document.getElementById('document-type').value = tipoDocumento;
                document.getElementById('document-number').value = numero;
                document.getElementById('registration').value = matricula;
                document.getElementById('city-state-registration').value = cidadeEstadoRegistro;
            }

        });


        document.addEventListener('DOMContentLoaded', function() {
            const btnTransfer = document.getElementById('btnTransferir'); // Substitua 'idDoBotaoTransferir' pelo ID real do botão
            if (btnTransfer) {
                btnTransfer.addEventListener('click', transferAndTransformData);
            }
        });


    </script>

    <script>
        document.getElementById('btnTransferir').addEventListener('click', transferAndTransformData);

    </script>
    
</body>
</html>
